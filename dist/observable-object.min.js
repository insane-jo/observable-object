(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.ObservableObject=e()}})(function(){var e,t,n;return function i(e,t,n){function r(s,f){if(!t[s]){if(!e[s]){var a=typeof require=="function"&&require;if(!f&&a)return a(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=t[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return r(n?n:t)},c,c.exports,i,e,t,n)}return t[s].exports}var o=typeof require=="function"&&require;for(var s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,t,n){"use strict";var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol?"symbol":typeof e};var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var o=e("event-emitter-es6");var s=f(o);function f(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var l={emitOnEachPropChange:false,emitSummaryChanges:true,strictMode:true,eventEmitterStrictMode:false,emitDelay:10,fields:[]};function h(e,t){return e.hasOwnProperty(t)?e[t]:l[t]}var d=function(e){c(t,e);function t(e,n){a(this,t);if(!e){throw"Base object can not be blank!"}else if((typeof e==="undefined"?"undefined":i(e))!=="object"){throw"Base object must be an object!"}if(!n){n={}}var r={strictMode:n.hasOwnProperty("eventEmitterStrictMode")?n.eventEmitterStrictMode:l.eventEmitterStrictMode,emitDelay:0};var o=u(this,Object.getPrototypeOf(t).call(this,r));o.__options=n;o.__state={};o.__changes={};o.__registeredFields=Object.keys(o).concat(["__registeredFields"]);Object.keys(e).concat(h(n,"fields")).forEach(function(t){o[t]=e[t]});o.fetchFields();return o}r(t,[{key:"fetchFields",value:function n(){var e=this;var t=Object.keys(this).filter(function(t){return e.__registeredFields.indexOf(t)===-1});var n={};t=t.map(function(t){var i=e[t];if(typeof i==="function"){i=i.bind(e)}n[t]={get:function r(){return e.__state[t]},set:function o(n){if(typeof n==="function"){n=n.bind(e)}e.__addChange(t,e.__state[t],n);e.__state[t]=n;return n}};return{field:t,value:i}});Object.defineProperties(this,n);t.forEach(function(t){e.__registeredFields.push(t.field);e[t.field]=t.value})}},{key:"__addChange",value:function o(e,t,n){var i={field:e,oldValue:t,newValue:n};var r=this.__changes[e];if(!r){this.__changes[e]=r=[]}r.push(i);this.__emitChangesIfNeeded()}},{key:"__emitChangesIfNeeded",value:function s(){var e=h(this.__options,"emitDelay");if(e&&!this.__options.timeoutId){this.__options.timeoutId=setTimeout(this.__emitChanges.bind(this),e)}else if(!e){this.__emitChanges()}}},{key:"__emitChanges",value:function f(){var e=this;var t=this.__changes;this.__changes={};this.__options.timeoutId=undefined;if(h(this.__options,"emitSummaryChanges")){this.emit("change",t)}if(h(this.__options,"emitOnEachPropChange")){Object.keys(t).forEach(function(n){e.emit("change:"+n,t[n])})}}},{key:"dropChanges",value:function d(){if(this.__changes){this.__changes={}}if(this.__options.timeoutId){delete this.__options.timeoutId}}}]);return t}(s.default);t.exports=d},{"event-emitter-es6":2}],2:[function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o={emitDelay:10,strictMode:false};var s=function(){function e(){var t=arguments.length<=0||arguments[0]===undefined?o:arguments[0];r(this,e);var n=void 0,i=void 0;if(t.hasOwnProperty("emitDelay")){n=t.emitDelay}else{n=o.emitDelay}this._emitDelay=n;if(t.hasOwnProperty("strictMode")){i=t.strictMode}else{i=o.strictMode}this._strictMode=i;this._listeners={};this.events=[]}i(e,[{key:"_addListenner",value:function t(e,n,i){if(typeof n!=="function"){throw TypeError("listener must be a function")}if(this.events.indexOf(e)===-1){this._listeners[e]=[{once:i,fn:n}];this.events.push(e)}else{this._listeners[e].push({once:i,fn:n})}}},{key:"on",value:function n(e,t){this._addListenner(e,t,false)}},{key:"once",value:function s(e,t){this._addListenner(e,t,true)}},{key:"off",value:function f(e,t){var n=this;var i=this.events.indexOf(e);var r=e&&i!==-1;if(r){if(!t){delete this._listeners[e];this.events.splice(i,1)}else{(function(){var r=[];var o=n._listeners[e];o.forEach(function(e,n){if(e.fn===t){r.unshift(n)}});r.forEach(function(e){o.splice(e,1)});if(!o.length){n.events.splice(i,1);delete n._listeners[e]}})()}}}},{key:"_applyEvents",value:function a(e,t){var n=this._listeners[e];if(!n||!n.length){if(this._strictMode){throw"No listeners specified for event: "+e}else{return}}var i=[];n.forEach(function(e,n){e.fn.apply(null,t);if(e.once){i.unshift(n)}});i.forEach(function(e){n.splice(e,1)})}},{key:"emit",value:function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}if(this._emitDelay){setTimeout(this._applyEvents.call(this,e,n),this._emitDelay)}else{this._applyEvents(e,n)}}},{key:"emitSync",value:function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++){n[i-1]=arguments[i]}this._applyEvents(e,n)}}]);return e}();t.exports=s},{}]},{},[1])(1)});